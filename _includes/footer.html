<div class="navbar navbar-default footer-nav" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".footer-nav .navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="navbar-brand visible-xs-block">NIEM</div>
      <div class="navbar-brand hidden-xs">National Information Exchange Model (NIEM)</div>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://www.niem.gov/Pages/default.aspx">NIEM.gov</a></li>
        <li><a href="https://www.niem.gov/Pages/contact.aspx">Contact Us</a></li>
      </ul>
    </div>
  </div>
</div>

<script src="{{ '/vendor/bootstrap/dist/js/bootstrap.min.js' | relative_url }}"></script>
<script src="{{ '/assets/js/main.js' | relative_url }}"></script>

{% if page.url contains "model/" or page.url contains "training/" %}
  <script type="text/javascript">
    // Find the TOC and active navigation item
    let $toc = $("#markdown-toc");
    let $activeNav = $("div.section-nav a.active");

    // Create a new nav wrapper for the TOC ul
    let $nav = $("<nav id='page-nav'></nav>");
    $nav.append($toc);

    // Move TOC to navbar under the active element
    $toc.addClass("nav list-group-item");
    $nav.insertAfter($activeNav);

    // Add scrollspy and adjust offset to account for top menu bar
    // allowing for a few lines above from the previous section
    $("body").scrollspy({
      target: "#page-nav",
      offset: 150
    });

  </script>
{% endif %}


<script type="text/javascript">

  // Add bootstrap classes for table formatting
  $("table").addClass("table table-bordered table-hover table-striped");

  // Add a new copy button to each code block
  $(".highlight").each( function() {
    
    // New copy button and event handler (local copy-to-clipboard function)
    let $copyBtn = $(`<button class="clipboard"">Copy</button>`).click( copyToClipboard );

    // New div for copy button (helps for styling)
    let $copyDiv = $(`<div class="clipboard">`);
    $copyDiv.append($copyBtn);

    // Add div before the code block
    $(this).before( $copyDiv );
  });

</script>

